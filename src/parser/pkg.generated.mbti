// Generated using `moon info`, DON'T EDIT IT
package "dowdiness/parser/parser"

import {
  "dowdiness/parser/green-tree",
  "dowdiness/parser/lexer",
  "dowdiness/parser/range",
  "dowdiness/parser/term",
  "dowdiness/parser/token",
}

// Values
pub fn collect_errors(@term.TermNode) -> Array[String]

pub fn green_to_term(@green-tree.GreenNode) -> @term.Term

pub fn green_to_term_node(@green-tree.GreenNode, Int, Ref[Int]) -> @term.TermNode

pub fn has_errors(@term.TermNode) -> Bool

pub fn make_reuse_cursor(@green-tree.GreenNode, @range.Range, Array[@token.TokenInfo]) -> ReuseCursor

pub fn parse(String) -> @term.Term raise

pub fn parse_green(String) -> @green-tree.GreenNode raise

pub fn parse_green_recover(String, interner? : @green-tree.Interner?) -> (@green-tree.GreenNode, Array[ParseDiagnostic]) raise @lexer.TokenizationError

pub fn parse_green_recover_with_tokens(String, Array[@token.TokenInfo], ReuseCursor?, interner? : @green-tree.Interner?) -> (@green-tree.GreenNode, Array[ParseDiagnostic], Int)

pub fn parse_green_to_term_node(String) -> @term.TermNode raise

pub fn parse_green_with_cursor(String, Array[@token.TokenInfo], ReuseCursor) -> (@green-tree.GreenNode, Array[ParseDiagnostic], Int)

pub fn parse_tree(String) -> @term.TermNode raise

pub fn parse_tree_from_tokens(Array[@token.TokenInfo]) -> @term.TermNode raise

pub fn parse_with_error_recovery(String) -> (@term.TermNode, Array[String])

pub fn parse_with_error_recovery_tokens(Array[@token.TokenInfo]) -> (@term.TermNode, Array[String])

pub fn red_to_term_node(@green-tree.RedNode, Ref[Int]) -> @term.TermNode

// Errors
pub suberror ParseError {
  ParseError(String, @token.Token)
}

// Types and methods
type CursorFrame

type OldToken

pub(all) struct ParseDiagnostic {
  message : String
  token : @token.Token
  start : Int
  end : Int
}
pub impl Show for ParseDiagnostic

pub struct ReuseCursor {
  stack : Array[CursorFrame]
  mut current_offset : Int
  damaged_range : @range.Range
  tokens : Array[@token.TokenInfo]
  old_tokens : Array[OldToken]
  reuse_globally_disabled : Bool
}
pub fn ReuseCursor::advance_past(Self, @green-tree.GreenNode) -> Unit
pub fn ReuseCursor::is_reuse_disabled(Self) -> Bool
pub fn ReuseCursor::new(@green-tree.GreenNode, @range.Range, Array[@token.TokenInfo]) -> Self
pub fn ReuseCursor::old_tree(Self) -> @green-tree.GreenNode
pub fn ReuseCursor::try_reuse(Self, @green-tree.RawKind, Int, Int) -> @green-tree.GreenNode?

// Type aliases

// Traits

